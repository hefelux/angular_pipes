<h1 class="mt-3">PIPES <small class="text-muted">Angular</small></h1>
<hr>
<div class="row">
    <div class="col">
        <div class="alert alert-secondary" role="alert">
            <span class="mb-3">Los Pipes no cambian el valor real de la variable que modifican, es sólo una modificación
                visual.</span>
            <br>
            <small class="mt-2"><b>Ejemplo de uso básico:</b> &nbsp; nombre_variable | pipe</small>
            <br>
            <small class="mt-2"><b>Ejemplo de uso con paramétros:</b> &nbsp; nombre_variable | pipe: param1: param2: param3...</small>
        </div>
    </div>
</div>
<hr>
<ul class="nav nav-pills nav-fill" id="myTab" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="default-tab" data-toggle="tab" href="#default" role="tab" aria-controls="default"
            aria-selected="true">1. Pipes por defecto</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="custom-tab" data-toggle="tab" href="#custom" role="tab" aria-controls="custom"
            aria-selected="false">2. Pipes personalizados</a>
    </li>
</ul>
<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="default" role="tabpanel" aria-labelledby="default-tab">
        <div class="row py-4">
            <div class="col table-responsive">
                <table class="table table-striped table-hover table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Valor variable</th>
                            <th>Pipe</th>
                            <th>Resultado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{ nombre }}</td>
                            <td>uppercase</td>
                            <td>{{ nombre | uppercase }}</td>
                        </tr>
                        <tr>
                            <td>{{ nombre }}</td>
                            <td>lowercase</td>
                            <td>{{ nombre | lowercase }}</td>
                        </tr>
                        <tr>
                            <td>{{ nombre_sin_formato }}</td>
                            <td>titlecase</td>
                            <td>{{ nombre_sin_formato | titlecase }}</td>
                        </tr>
                        <tr>
                            <td>
                                {{ nombre }}
                                <br><small class="text-muted">(String)</small>
                            </td>
                            <td>
                                slice:0:3
                                <br><a href="https://angular.io/api/common/SlicePipe" target="_blank"> Ver Documentación</a>
                            </td>
                            <td>{{ nombre | slice:0:3 }}</td>
                        </tr>
                        <tr>
                            <td>
                                {{ personajes }}
                                <br><small class="text-muted">(Arreglo)</small>
                            </td>
                            <td>slice:1:5</td>
                            <td>{{ personajes | slice:1:5 }}</td>
                        </tr>
                        <tr>
                            <td>{{ PI }}</td>
                            <td>
                                number
                                <br><a href="https://angular.io/api/common/DecimalPipe" target="_blank"> Ver Documentación</a>
                            </td>
                            <td>{{ PI | number }} <small class="text-muted">(Aproximado)</small></td>
                        </tr>
                        <tr>
                            <td>{{ PI }}</td>
                            <td>number:'1.0-0'</td>
                            <td>{{ PI | number:'1.0-0' }} <small class="text-muted">(Sin decimales)</small></td>
                        </tr>
                        <tr>
                            <td>{{ PI }}</td>
                            <td>number:'3.0-0'</td>
                            <td>{{ PI | number:'3.0-0' }} <small class="text-muted">(Con 3 enteros)</small></td>
                        </tr>
                        <tr>
                            <td>{{ PI }}</td>
                            <td>number:'.0-2'</td>
                            <td>{{ PI | number:'.0-2' }} <small class="text-muted">(Todos los enteros con 2 decimales)</small>
                            </td>
                        </tr>
                        <tr>
                            <td>{{ porcentaje }}</td>
                            <td>
                                percent
                                <br><a href="https://angular.io/api/common/PercentPipe" target="_blank"> Ver Documentación</a>
                            </td>
                            <td>{{ porcentaje | percent }} <small class="text-muted">(Aproximado)</small></td>
                        </tr>
                        <tr>
                            <td>{{ porcentaje }}</td>
                            <td>percent:'2.2-2'</td>
                            <td>{{ porcentaje | percent:'2.2-2' }} <small class="text-muted">(Dos enteros con 2
                                    decimales)</small></td>
                        </tr>
                        <tr>
                            <td>{{ salario }}</td>
                            <td>
                                currency
                                <br><a href="https://angular.io/api/common/CurrencyPipe" target="_blank"> Ver Documentación</a>
                            </td>
                            <td>{{ salario | currency }} <small class="text-muted">(Dólares, por defecto)</small></td>
                        </tr>
                        <tr>
                            <td>{{ salario }}</td>
                            <td>
                                currency:'EUR'
                                <br><a href="https://es.wikipedia.org/wiki/ISO_4217" target="_blank">Ver ISO 4217 para códigos
                                    de divisa</a>
                            </td>
                            <td>{{ salario | currency:'EUR' }} <small class="text-muted">(Euros)</small></td>
                        </tr>
                        <tr>
                            <td>{{ salario }}</td>
                            <td>currency:'CLP ':'symbol':'.0-0'</td>
                            <td>{{ salario | currency:'CLP ':'symbol':'.0-0' }} <small class="text-muted">(Pesos chilenos. Sin
                                    decimales)</small></td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>
                                date
                                <br><a href="https://angular.io/api/common/DatePipe" target="_blank"> Ver Documentación</a>
                            </td>
                            <td>{{ fecha | date }}</td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>date:'short'</td>
                            <td>{{ fecha | date:'short' }}</td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>date:'medium'</td>
                            <td>{{ fecha | date:'medium' }}</td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>date:'long'</td>
                            <td>{{ fecha | date:'long' }}</td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>date:'full'</td>
                            <td>{{ fecha | date:'full' }}</td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>date:'shortTime'</td>
                            <td>{{ fecha | date:'shortTime' }}</td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>date:'dd/MM/yyyy'</td>
                            <td>{{ fecha | date:'dd/MM/yyyy' }}</td>
                        </tr>
                        <tr>
                            <td>{{ fecha }}</td>
                            <td>date:'dd/MM/yyyy hh:mm a'</td>
                            <td>{{ fecha | date:'dd/MM/yyyy hh:mm a' }}</td>
                        </tr>
                        <tr>
                            <td>
                                {{ heroe }}
                                <br><small class="text-muted">Objeto en formato no esperado.</small>
                            </td>
                            <td>
                                json
                                <br><small class="text-muted">Imprime objeto en formato esperado.</small>
                            </td>
                            <td>
                                <pre>{{ heroe | json }}</pre>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <pre>{{ frutas | json }}</pre>
                            </td>
                            <td>
                                <pre class="overflow-auto p-3 rounded bg-dark text-warning" style="width: 260px;">{{ keyvalue_template }}</pre>
                                <small class="text-muted">Para objetos|maps con clave-valor</small>
                            </td>
                            <td>
                                <p class="mb-1" *ngFor="let fruta of frutas | keyvalue">{{ fruta.key }}. {{ fruta.value }}</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                {{ valorPromesa }}
                                <br><small class="text-muted">Objeto en espera de valor de la promesa.</small>
                            </td>
                            <td>
                                async
                                <br><small class="text-muted">Imprime el valor de la promesa una vez terminada</small>
                                <br><a href="https://angular.io/api/common/AsyncPipe" target="_blank"> Ver Documentación</a>
                            </td>
                            <td>
                                {{ valorPromesa | async }}
                                <br><small class="text-muted">"Valor de la promesa aparece despues de 3 segundos"</small><br>
                                <button (click)="emularPromesa()" class="btn btn-dark btn-sm mt-2">Emular Promesa</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="tab-pane fade" id="custom" role="tabpanel" aria-labelledby="custom-tab">
        <div class="row py-4">
            <div class="col table-responsive">
                <table class="table table-striped table-hover table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Valor variable</th>
                            <th>Pipe</th>
                            <th>Resultado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{ nombre }}</td>
                            <td>
                                capitalizeFirst
                                <br><small class="text-muted">Capitalizar sólo primera palabra</small>
                            </td>
                            <td>{{ nombre | capitalizeFirst }}</td>
                        </tr>
                        <tr>
                            <td>{{ nombre }}</td>
                            <td>
                                replaceChar:'*'
                                <br><small class="text-muted">Remplazar letras por símbolo</small>
                            </td>
                            <td>{{ nombre | replaceChar:'*' }}</td>
                        </tr>
                        <tr>
                            <td>{{ nombre }}</td>
                            <td>
                                replaceChar:'*':'0-4'
                                <br><small class="text-muted">Remplazar las 5 primeras letras por símbolo</small>
                            </td>
                            <td>{{ nombre | replaceChar:'*':'0-4' }}</td>
                        </tr>
                        <tr>
                            <td>{{ rut }}</td>
                            <td>
                                rut
                                <br><small class="text-muted">Rol Único Tributario. Chile.</small>
                            </td>
                            <td>{{ rut | rut }}</td>
                        </tr>
                        <tr>
                            <td>{{ rut_dots }}</td>
                            <td>rut:'dotless'</td>
                            <td>{{ rut_dots | rut:'dotless' }}</td>
                        </tr>
                        <tr>
                            <td>{{ html_template }}</td>
                            <td>
                                safeDom:'html'
                                <br><small class="text-muted">Nos sirve para inyectar html (ej: innerHtml) que contiene scripts dentro.</small>
                            </td>
                            <td>
                                <div [innerHtml]="html_template | safeDom:'html'"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>{{ style }}</td>
                            <td>
                                safeDom:'style'
                                <br><small class="text-muted">Nos sirve para inyectar propiedades css usando el atributo [style].</small>
                            </td>
                            <td>
                                <button [style]="style | safeDom:'style'" class="btn btn-sm">Button</button>
                            </td>
                        </tr>
                        <tr>
                            <td>{{ ext_url }}</td>
                            <td>
                                safeDom:'url'
                                <br><small class="text-muted">Nos sirve para inyectar urls de forma segura en enlaces (href) e imágenes (src).</small>
                            </td>
                            <td><img width="200" [src]="ext_url | safeDom:'url'"></td>
                        </tr>
                        <tr>
                            <td>{{ ext_resource_url }}</td>
                            <td>
                                safeDom:'resource-url'
                                <br><small class="text-muted">Nos sirve para inyectar urls de recursos externos. En este ejemplo un video.</small>
                            </td>
                            <td>
                                <iframe width="200" height="100" [src]="ext_resource_url | safeDom:'resource-url'" frameborder="0"></iframe>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
